const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BiWEY6Q6.js","assets/chunk-JZWAC4HX-C2HxCtkE.js","assets/IconBase.es-DtVVdnrS.js","assets/status-badge-C9aSxEk6.js","assets/utils-fNskMoFt.js","assets/X.es-DB1gPyp-.js","assets/CheckCircle.es-CZVH0G_K.js","assets/WarningCircle.es-B45BJtDC.js","assets/api-D4ha4czi.js","assets/sidebar-BqU2Z0As.js"])))=>i.map(i=>d[i]);
import{a as e,p as t,w as X,A as ee,z as P}from"./chunk-JZWAC4HX-C2HxCtkE.js";import{p as E}from"./IconBase.es-DtVVdnrS.js";import{a as te,o as ae}from"./status-badge-C9aSxEk6.js";import{e as se}from"./X.es-DB1gPyp-.js";import{c as ne}from"./CheckCircle.es-CZVH0G_K.js";import{e as re}from"./WarningCircle.es-B45BJtDC.js";import{c as b}from"./utils-fNskMoFt.js";import{a as k,R as D}from"./api-D4ha4czi.js";import{u as le}from"./sidebar-BqU2Z0As.js";const ce=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M228,128a12,12,0,0,1-12,12H69l51.52,51.51a12,12,0,0,1-17,17l-72-72a12,12,0,0,1,0-17l72-72a12,12,0,0,1,17,17L69,116H216A12,12,0,0,1,228,128Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M112,56V200L40,128Z",opacity:"0.2"}),e.createElement("path",{d:"M216,120H120V56a8,8,0,0,0-13.66-5.66l-72,72a8,8,0,0,0,0,11.32l72,72A8,8,0,0,0,120,200V136h96a8,8,0,0,0,0-16ZM104,180.69,51.31,128,104,75.31Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M224,128a8,8,0,0,1-8,8H120v64a8,8,0,0,1-13.66,5.66l-72-72a8,8,0,0,1,0-11.32l72-72A8,8,0,0,1,120,56v64h96A8,8,0,0,1,224,128Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M222,128a6,6,0,0,1-6,6H54.49l61.75,61.76a6,6,0,1,1-8.48,8.48l-72-72a6,6,0,0,1,0-8.48l72-72a6,6,0,0,1,8.48,8.48L54.49,122H216A6,6,0,0,1,222,128Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M220,128a4,4,0,0,1-4,4H49.66l65.17,65.17a4,4,0,0,1-5.66,5.66l-72-72a4,4,0,0,1,0-5.66l72-72a4,4,0,0,1,5.66,5.66L49.66,124H216A4,4,0,0,1,220,128Z"}))]]),oe=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M140,88a16,16,0,1,1,16,16A16,16,0,0,1,140,88ZM100,72a16,16,0,1,0,16,16A16,16,0,0,0,100,72Zm120,72a91.84,91.84,0,0,1-2.34,20.64L236.81,173a12,12,0,0,1-9.62,22l-18-7.85a92,92,0,0,1-162.46,0l-18,7.85a12,12,0,1,1-9.62-22l19.15-8.36A91.84,91.84,0,0,1,36,144v-4H16a12,12,0,0,1,0-24H36v-4a91.84,91.84,0,0,1,2.34-20.64L19.19,83a12,12,0,0,1,9.62-22l18,7.85a92,92,0,0,1,162.46,0l18-7.85a12,12,0,1,1,9.62,22l-19.15,8.36A91.84,91.84,0,0,1,220,112v4h20a12,12,0,0,1,0,24H220ZM60,116H196v-4a68,68,0,0,0-136,0Zm56,94.92V140H60v4A68.1,68.1,0,0,0,116,210.92ZM196,144v-4H140v70.92A68.1,68.1,0,0,0,196,144Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M208,128v16a80,80,0,0,1-160,0V128Z",opacity:"0.2"}),e.createElement("path",{d:"M144,92a12,12,0,1,1,12,12A12,12,0,0,1,144,92ZM100,80a12,12,0,1,0,12,12A12,12,0,0,0,100,80Zm116,64A87.76,87.76,0,0,1,213,167l22.24,9.72A8,8,0,0,1,232,192a7.89,7.89,0,0,1-3.2-.67L207.38,182a88,88,0,0,1-158.76,0L27.2,191.33A7.89,7.89,0,0,1,24,192a8,8,0,0,1-3.2-15.33L43,167A87.76,87.76,0,0,1,40,144v-8H16a8,8,0,0,1,0-16H40v-8a87.76,87.76,0,0,1,3-23L20.8,79.33a8,8,0,1,1,6.4-14.66L48.62,74a88,88,0,0,1,158.76,0l21.42-9.36a8,8,0,0,1,6.4,14.66L213,89.05a87.76,87.76,0,0,1,3,23v8h24a8,8,0,0,1,0,16H216ZM56,120H200v-8a72,72,0,0,0-144,0Zm64,95.54V136H56v8A72.08,72.08,0,0,0,120,215.54ZM200,144v-8H136v79.54A72.08,72.08,0,0,0,200,144Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M168,92a12,12,0,1,1-12-12A12,12,0,0,1,168,92ZM100,80a12,12,0,1,0,12,12A12,12,0,0,0,100,80Zm116,64A87.76,87.76,0,0,1,213,167l22.24,9.72A8,8,0,0,1,232,192a7.89,7.89,0,0,1-3.2-.67L207.38,182a88,88,0,0,1-158.76,0L27.2,191.33A7.89,7.89,0,0,1,24,192a8,8,0,0,1-3.2-15.33L43,167A87.76,87.76,0,0,1,40,144v-8H16a8,8,0,0,1,0-16H40v-8a87.76,87.76,0,0,1,3-23L20.8,79.33a8,8,0,1,1,6.4-14.66L48.62,74a88,88,0,0,1,158.76,0l21.42-9.36a8,8,0,0,1,6.4,14.66L213,89.05a87.76,87.76,0,0,1,3,23v8h24a8,8,0,0,1,0,16H216Zm-80,0a8,8,0,0,0-16,0v64a8,8,0,0,0,16,0Zm64-32a72,72,0,0,0-144,0v8H200Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M146,92a10,10,0,1,1,10,10A10,10,0,0,1,146,92ZM100,82a10,10,0,1,0,10,10A10,10,0,0,0,100,82Zm146,46a6,6,0,0,1-6,6H214v10a85.88,85.88,0,0,1-3.45,24.08L234.4,178.5a6,6,0,0,1-4.8,11l-23.23-10.15a86,86,0,0,1-156.74,0L26.4,189.5a6,6,0,1,1-4.8-11l23.85-10.42A85.88,85.88,0,0,1,42,144V134H16a6,6,0,0,1,0-12H42V112a85.88,85.88,0,0,1,3.45-24.08L21.6,77.5a6,6,0,0,1,4.8-11L49.63,76.65a86,86,0,0,1,156.74,0L229.6,66.5a6,6,0,1,1,4.8,11L210.55,87.92A85.88,85.88,0,0,1,214,112v10h26A6,6,0,0,1,246,128ZM54,122H202V112a74,74,0,0,0-148,0Zm68,95.74V134H54v10A74.09,74.09,0,0,0,122,217.74ZM202,134H134v83.74A74.09,74.09,0,0,0,202,144Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M144,92a12,12,0,1,1,12,12A12,12,0,0,1,144,92ZM100,80a12,12,0,1,0,12,12A12,12,0,0,0,100,80Zm116,64A87.76,87.76,0,0,1,213,167l22.24,9.72A8,8,0,0,1,232,192a7.89,7.89,0,0,1-3.2-.67L207.38,182a88,88,0,0,1-158.76,0L27.2,191.33A7.89,7.89,0,0,1,24,192a8,8,0,0,1-3.2-15.33L43,167A87.76,87.76,0,0,1,40,144v-8H16a8,8,0,0,1,0-16H40v-8a87.76,87.76,0,0,1,3-23L20.8,79.33a8,8,0,1,1,6.4-14.66L48.62,74a88,88,0,0,1,158.76,0l21.42-9.36a8,8,0,0,1,6.4,14.66L213,89.05a87.76,87.76,0,0,1,3,23v8h24a8,8,0,0,1,0,16H216ZM56,120H200v-8a72,72,0,0,0-144,0Zm64,95.54V136H56v8A72.08,72.08,0,0,0,120,215.54ZM200,144v-8H136v79.54A72.08,72.08,0,0,0,200,144Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M148,92a8,8,0,1,1,8,8A8,8,0,0,1,148,92Zm-48-8a8,8,0,1,0,8,8A8,8,0,0,0,100,84Zm144,44a4,4,0,0,1-4,4H212v12a83.64,83.64,0,0,1-3.87,25.2l25.47,11.13A4,4,0,0,1,232,188a4.09,4.09,0,0,1-1.6-.33l-25-10.95a84,84,0,0,1-154.72,0l-25,10.95A4.09,4.09,0,0,1,24,188a4,4,0,0,1-1.6-7.67L47.87,169.2A83.64,83.64,0,0,1,44,144V132H16a4,4,0,0,1,0-8H44V112a83.64,83.64,0,0,1,3.87-25.2L22.4,75.67a4,4,0,0,1,3.2-7.34l25,11a84,84,0,0,1,154.72,0l25-11a4,4,0,1,1,3.2,7.34L208.13,86.8A83.64,83.64,0,0,1,212,112v12h28A4,4,0,0,1,244,128ZM52,124H204V112a76,76,0,0,0-152,0Zm72,95.89V132H52v12A76.09,76.09,0,0,0,124,219.89ZM204,132H132v87.89A76.09,76.09,0,0,0,204,144Z"}))]]),ie=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M208,96l-80,80L48,96Z",opacity:"0.2"}),e.createElement("path",{d:"M215.39,92.94A8,8,0,0,0,208,88H48a8,8,0,0,0-5.66,13.66l80,80a8,8,0,0,0,11.32,0l80-80A8,8,0,0,0,215.39,92.94ZM128,164.69,67.31,104H188.69Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,48,88H208a8,8,0,0,1,5.66,13.66Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M212.24,100.24l-80,80a6,6,0,0,1-8.48,0l-80-80a6,6,0,0,1,8.48-8.48L128,167.51l75.76-75.75a6,6,0,0,1,8.48,8.48Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M210.83,98.83l-80,80a4,4,0,0,1-5.66,0l-80-80a4,4,0,0,1,5.66-5.66L128,170.34l77.17-77.17a4,4,0,1,1,5.66,5.66Z"}))]]),de=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M176,128,96,208V48Z",opacity:"0.2"}),e.createElement("path",{d:"M181.66,122.34l-80-80A8,8,0,0,0,88,48V208a8,8,0,0,0,13.66,5.66l80-80A8,8,0,0,0,181.66,122.34ZM104,188.69V67.31L164.69,128Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M181.66,133.66l-80,80A8,8,0,0,1,88,208V48a8,8,0,0,1,13.66-5.66l80,80A8,8,0,0,1,181.66,133.66Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M180.24,132.24l-80,80a6,6,0,0,1-8.48-8.48L167.51,128,91.76,52.24a6,6,0,0,1,8.48-8.48l80,80A6,6,0,0,1,180.24,132.24Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M178.83,130.83l-80,80a4,4,0,0,1-5.66-5.66L170.34,128,93.17,50.83a4,4,0,0,1,5.66-5.66l80,80A4,4,0,0,1,178.83,130.83Z"}))]]),me=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M216,28H88A12,12,0,0,0,76,40V76H40A12,12,0,0,0,28,88V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V180h36a12,12,0,0,0,12-12V40A12,12,0,0,0,216,28ZM156,204H52V100H156Zm48-48H180V88a12,12,0,0,0-12-12H100V52H204Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M216,40V168H168V88H88V40Z",opacity:"0.2"}),e.createElement("path",{d:"M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32Zm-8,128H176V88a8,8,0,0,0-8-8H96V48H208Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M216,34H88a6,6,0,0,0-6,6V82H40a6,6,0,0,0-6,6V216a6,6,0,0,0,6,6H168a6,6,0,0,0,6-6V174h42a6,6,0,0,0,6-6V40A6,6,0,0,0,216,34ZM162,210H46V94H162Zm48-48H174V88a6,6,0,0,0-6-6H94V46H210Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M216,36H88a4,4,0,0,0-4,4V84H40a4,4,0,0,0-4,4V216a4,4,0,0,0,4,4H168a4,4,0,0,0,4-4V172h44a4,4,0,0,0,4-4V40A4,4,0,0,0,216,36ZM164,212H44V92H164Zm48-48H172V88a4,4,0,0,0-4-4H92V44H212Z"}))]]),ue=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M230.14,25.86a20,20,0,0,0-19.57-5.11l-.22.07L18.44,79a20,20,0,0,0-3.06,37.25L99,157l40.71,83.65a19.81,19.81,0,0,0,18,11.38c.57,0,1.15,0,1.73-.07A19.82,19.82,0,0,0,177,237.56L235.18,45.65a1.42,1.42,0,0,0,.07-.22A20,20,0,0,0,230.14,25.86ZM156.91,221.07l-34.37-70.64,46-45.95a12,12,0,0,0-17-17l-46,46L34.93,99.09,210,46Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M223.69,42.18l-58.22,192a8,8,0,0,1-14.92,1.25L108,148,20.58,105.45a8,8,0,0,1,1.25-14.92l192-58.22A8,8,0,0,1,223.69,42.18Z",opacity:"0.2"}),e.createElement("path",{d:"M227.32,28.68a16,16,0,0,0-15.66-4.08l-.15,0L19.57,82.84a16,16,0,0,0-2.49,29.8L102,154l41.3,84.87A15.86,15.86,0,0,0,157.74,248q.69,0,1.38-.06a15.88,15.88,0,0,0,14-11.51l58.2-191.94c0-.05,0-.1,0-.15A16,16,0,0,0,227.32,28.68ZM157.83,231.85l-.05.14,0-.07-40.06-82.3,48-48a8,8,0,0,0-11.31-11.31l-48,48L24.08,98.25l-.07,0,.14,0L216,40Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M231.4,44.34s0,.1,0,.15l-58.2,191.94a15.88,15.88,0,0,1-14,11.51q-.69.06-1.38.06a15.86,15.86,0,0,1-14.42-9.15L107,164.15a4,4,0,0,1,.77-4.58l57.92-57.92a8,8,0,0,0-11.31-11.31L96.43,148.26a4,4,0,0,1-4.58.77L17.08,112.64a16,16,0,0,1,2.49-29.8l191.94-58.2.15,0A16,16,0,0,1,231.4,44.34Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M225.88,30.12a13.83,13.83,0,0,0-13.7-3.58l-.11,0L20.14,84.77A14,14,0,0,0,18,110.85l85.56,41.64L145.12,238a13.87,13.87,0,0,0,12.61,8c.4,0,.81,0,1.21-.05a13.9,13.9,0,0,0,12.29-10.09l58.2-191.93,0-.11A13.83,13.83,0,0,0,225.88,30.12Zm-8,10.4L159.73,232.43l0,.11a2,2,0,0,1-3.76.26l-40.68-83.58,49-49a6,6,0,1,0-8.49-8.49l-49,49L23.15,100a2,2,0,0,1,.31-3.74l.11,0L215.48,38.08a1.94,1.94,0,0,1,1.92.52A2,2,0,0,1,217.92,40.52Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M227.32,28.68a16,16,0,0,0-15.66-4.08l-.15,0L19.57,82.84a16,16,0,0,0-2.49,29.8L102,154l41.3,84.87A15.86,15.86,0,0,0,157.74,248q.69,0,1.38-.06a15.88,15.88,0,0,0,14-11.51l58.2-191.94c0-.05,0-.1,0-.15A16,16,0,0,0,227.32,28.68ZM157.83,231.85l-.05.14,0-.07-40.06-82.3,48-48a8,8,0,0,0-11.31-11.31l-48,48L24.08,98.25l-.07,0,.14,0L216,40Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M224.47,31.52a11.87,11.87,0,0,0-11.82-3L20.74,86.67a12,12,0,0,0-1.91,22.38L105,151l41.92,86.15A11.88,11.88,0,0,0,157.74,244c.34,0,.69,0,1,0a11.89,11.89,0,0,0,10.52-8.63l58.21-192,0-.08A11.85,11.85,0,0,0,224.47,31.52Zm-4.62,9.54-58.23,192a4,4,0,0,1-7.48.59l-41.3-84.86,50-50a4,4,0,1,0-5.66-5.66l-50,50-84.9-41.31a3.88,3.88,0,0,1-2.27-4,3.93,3.93,0,0,1,3-3.54L214.9,36.16A3.93,3.93,0,0,1,216,36a4,4,0,0,1,2.79,1.19A3.93,3.93,0,0,1,219.85,41.06Z"}))]]),pe=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M234.38,210a123.36,123.36,0,0,0-60.78-53.23,76,76,0,1,0-91.2,0A123.36,123.36,0,0,0,21.62,210a12,12,0,1,0,20.77,12c18.12-31.32,50.12-50,85.61-50s67.49,18.69,85.61,50a12,12,0,0,0,20.77-12ZM76,96a52,52,0,1,1,52,52A52.06,52.06,0,0,1,76,96Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M192,96a64,64,0,1,1-64-64A64,64,0,0,1,192,96Z",opacity:"0.2"}),e.createElement("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M230.93,220a8,8,0,0,1-6.93,4H32a8,8,0,0,1-6.92-12c15.23-26.33,38.7-45.21,66.09-54.16a72,72,0,1,1,73.66,0c27.39,8.95,50.86,27.83,66.09,54.16A8,8,0,0,1,230.93,220Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M229.19,213c-15.81-27.32-40.63-46.49-69.47-54.62a70,70,0,1,0-63.44,0C67.44,166.5,42.62,185.67,26.81,213a6,6,0,1,0,10.38,6C56.4,185.81,90.34,166,128,166s71.6,19.81,90.81,53a6,6,0,1,0,10.38-6ZM70,96a58,58,0,1,1,58,58A58.07,58.07,0,0,1,70,96Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M227.46,214c-16.52-28.56-43-48.06-73.68-55.09a68,68,0,1,0-51.56,0c-30.64,7-57.16,26.53-73.68,55.09a4,4,0,0,0,6.92,4C55,184.19,89.62,164,128,164s73,20.19,92.54,54a4,4,0,0,0,3.46,2,3.93,3.93,0,0,0,2-.54A4,4,0,0,0,227.46,214ZM68,96a60,60,0,1,1,60,60A60.07,60.07,0,0,1,68,96Z"}))]]),xe=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M230.47,67.5a12,12,0,0,0-19.26-4.32L172.43,99l-12.68-2.72L157,83.57l35.79-38.78a12,12,0,0,0-4.32-19.26A76.07,76.07,0,0,0,88.41,121.64L30.92,174.18a4.68,4.68,0,0,0-.39.38,36,36,0,0,0,50.91,50.91l.38-.39,52.54-57.49A76.05,76.05,0,0,0,230.47,67.5ZM160,148a51.5,51.5,0,0,1-23.35-5.52,12,12,0,0,0-14.26,2.62L64.31,208.66a12,12,0,0,1-17-17l63.55-58.07a12,12,0,0,0,2.62-14.26A51.5,51.5,0,0,1,108,96a52.06,52.06,0,0,1,52-52h.89L135.17,71.87a12,12,0,0,0-2.91,10.65l5.66,26.35a12,12,0,0,0,9.21,9.21l26.35,5.66a12,12,0,0,0,10.65-2.91L212,95.12c0,.3,0,.59,0,.89A52.06,52.06,0,0,1,160,148Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M224,96a64,64,0,0,1-94.94,56L73,217A24,24,0,0,1,39,183L104,126.94a64,64,0,0,1,80-90.29L144,80l5.66,26.34L176,112l43.35-40A63.8,63.8,0,0,1,224,96Z",opacity:"0.2"}),e.createElement("path",{d:"M226.76,69a8,8,0,0,0-12.84-2.88l-40.3,37.19-17.23-3.7-3.7-17.23,37.19-40.3A8,8,0,0,0,187,29.24,72,72,0,0,0,88,96,72.34,72.34,0,0,0,94,124.94L33.79,177c-.15.12-.29.26-.43.39a32,32,0,0,0,45.26,45.26c.13-.13.27-.28.39-.42L131.06,162A72,72,0,0,0,232,96,71.56,71.56,0,0,0,226.76,69ZM160,152a56.14,56.14,0,0,1-27.07-7,8,8,0,0,0-9.92,1.77L67.11,211.51a16,16,0,0,1-22.62-22.62L109.18,133a8,8,0,0,0,1.77-9.93,56,56,0,0,1,58.36-82.31l-31.2,33.81a8,8,0,0,0-1.94,7.1L141.83,108a8,8,0,0,0,6.14,6.14l26.35,5.66a8,8,0,0,0,7.1-1.94l33.81-31.2A56.06,56.06,0,0,1,160,152Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M232,96a72,72,0,0,1-100.94,66L79,222.22c-.12.14-.26.29-.39.42a32,32,0,0,1-45.26-45.26c.14-.13.28-.27.43-.39L94,124.94a72.07,72.07,0,0,1,83.54-98.78,8,8,0,0,1,3.93,13.19L144,80l5.66,26.35L176,112l40.65-37.52a8,8,0,0,1,13.19,3.93A72.6,72.6,0,0,1,232,96Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M224.91,69.75a6,6,0,0,0-9.63-2.16l-41.07,37.9L154.7,101.3l-4.19-19.51,37.9-41.07a6,6,0,0,0-2.16-9.63,70,70,0,0,0-89.77,94.39l-61.39,53c-.11.09-.21.19-.32.3A30,30,0,0,0,77.2,221.23c.11-.11.21-.21.3-.32l53-61.39a70,70,0,0,0,94.39-89.77ZM160,154a58,58,0,0,1-28-7.22,6,6,0,0,0-7.45,1.33L68.57,212.88a18,18,0,0,1-25.45-25.45l64.76-55.94A6,6,0,0,0,109.2,124a58,58,0,0,1,64-84.53L139.58,75.93a6,6,0,0,0-1.45,5.33l5.65,26.35a6,6,0,0,0,4.61,4.61l26.35,5.65a6,6,0,0,0,5.33-1.45L216.49,82.8A58.06,58.06,0,0,1,160,154Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M226.76,69a8,8,0,0,0-12.84-2.88l-40.3,37.19-17.23-3.7-3.7-17.23,37.19-40.3A8,8,0,0,0,187,29.24,72,72,0,0,0,88,96,72.34,72.34,0,0,0,94,124.94L33.79,177c-.15.12-.29.26-.43.39a32,32,0,0,0,45.26,45.26c.13-.13.27-.28.39-.42L131.06,162A72,72,0,0,0,232,96,71.56,71.56,0,0,0,226.76,69ZM160,152a56.14,56.14,0,0,1-27.07-7,8,8,0,0,0-9.92,1.77L67.11,211.51a16,16,0,0,1-22.62-22.62L109.18,133a8,8,0,0,0,1.77-9.93,56,56,0,0,1,58.36-82.31l-31.2,33.81a8,8,0,0,0-1.94,7.1L141.83,108a8,8,0,0,0,6.14,6.14l26.35,5.66a8,8,0,0,0,7.1-1.94l33.81-31.2A56.06,56.06,0,0,1,160,152Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M223.05,70.5a4,4,0,0,0-6.42-1.44l-41.82,38.6L153,103l-4.68-21.79,38.6-41.82a4,4,0,0,0-1.44-6.43A68,68,0,0,0,98.94,126L36.4,180l-.21.2a28,28,0,0,0,39.6,39.6l.2-.21,54-62.54A68,68,0,0,0,228,96,67.51,67.51,0,0,0,223.05,70.5ZM160,156a60,60,0,0,1-29-7.47,4,4,0,0,0-5,.89L70,214.25A20,20,0,0,1,41.75,186l64.82-56a4,4,0,0,0,.89-5,60,60,0,0,1,69.46-86.59L141.05,77.29a4,4,0,0,0-1,3.55l5.66,26.35a4,4,0,0,0,3.07,3.07l26.35,5.66a4,4,0,0,0,3.55-1l38.87-35.87A60.05,60.05,0,0,1,160,156Z"}))]]),S=e.forwardRef((s,a)=>e.createElement(E,{ref:a,...s,weights:ce}));S.displayName="ArrowLeftIcon";const U=e.forwardRef((s,a)=>e.createElement(E,{ref:a,...s,weights:oe}));U.displayName="BugIcon";const Z=e.forwardRef((s,a)=>e.createElement(E,{ref:a,...s,weights:ie}));Z.displayName="CaretDownIcon";const M=e.forwardRef((s,a)=>e.createElement(E,{ref:a,...s,weights:de}));M.displayName="CaretRightIcon";const F=e.forwardRef((s,a)=>e.createElement(E,{ref:a,...s,weights:me}));F.displayName="CopyIcon";const B=e.forwardRef((s,a)=>e.createElement(E,{ref:a,...s,weights:ue}));B.displayName="PaperPlaneTiltIcon";const J=e.forwardRef((s,a)=>e.createElement(E,{ref:a,...s,weights:pe}));J.displayName="UserIcon";const W=e.forwardRef((s,a)=>e.createElement(E,{ref:a,...s,weights:xe}));W.displayName="WrenchIcon";const he="modulepreload",fe=function(s){return"/"+s},q={},ge=function(a,m,o){let n=Promise.resolve();if(m&&m.length>0){let u=function(x){return Promise.all(x.map(l=>Promise.resolve(l).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),d=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));n=u(m.map(x=>{if(x=fe(x),x in q)return;q[x]=!0;const l=x.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${c}`))return;const i=document.createElement("link");if(i.rel=l?"stylesheet":he,l||(i.as="script"),i.crossOrigin="",i.href=x,d&&i.setAttribute("nonce",d),document.head.appendChild(i),l)return new Promise((y,g)=>{i.addEventListener("load",y),i.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${x}`)))})}))}function h(u){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=u,window.dispatchEvent(r),!r.defaultPrevented)throw u}return n.then(u=>{for(const r of u||[])r.status==="rejected"&&h(r.reason);return a().catch(h)})};function ye({items:s,autoScroll:a=!0}){const m=e.useRef(null),o=e.useRef(s.length);return e.useEffect(()=>{var n;a&&(s.length>o.current&&((n=m.current)==null||n.scrollIntoView({behavior:"smooth"})),o.current=s.length)},[s.length,a]),s.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted",children:[t.jsx("p",{className:"text-sm",children:"No messages yet"}),t.jsx("p",{className:"text-xs mt-1",children:"Send a prompt to start the conversation"})]}):t.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[s.map(n=>{switch(n.type){case"user":return t.jsx(be,{item:n},n.id);case"assistant":return t.jsx(Ee,{item:n},n.id);case"tool":return t.jsx(ve,{item:n},n.id);case"system":return t.jsx(we,{item:n},n.id);case"raw":return t.jsx(je,{item:n},n.id);default:return null}}),t.jsx("div",{ref:m})]})}function be({item:s}){return t.jsx("div",{className:"flex justify-end",children:t.jsxs("div",{className:"max-w-[80%] flex items-start gap-2",children:[t.jsx("div",{className:"bg-accent text-accent-fg rounded-2xl rounded-br-sm px-4 py-2.5 shadow-sm",children:t.jsx("p",{className:"text-sm whitespace-pre-wrap",children:s.text})}),t.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-accent/20 flex items-center justify-center",children:t.jsx(J,{className:"w-4 h-4 text-accent",weight:"fill"})})]})})}function Ee({item:s}){const[a,m]=e.useState(!1),o=()=>{navigator.clipboard.writeText(s.text),m(!0),setTimeout(()=>m(!1),2e3)};return t.jsx("div",{className:"flex justify-start",children:t.jsxs("div",{className:"max-w-[80%] flex items-start gap-2",children:[t.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-surface flex items-center justify-center border border-border",children:t.jsx("span",{className:"text-xs font-semibold text-muted",children:"Pi"})}),t.jsxs("div",{className:"bg-surface border border-border rounded-2xl rounded-bl-sm px-4 py-2.5 shadow-sm group relative",children:[t.jsx("p",{className:"text-sm whitespace-pre-wrap text-fg",children:s.text}),t.jsx("button",{type:"button",onClick:o,className:"absolute top-2 right-2 p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity bg-surface-hover hover:bg-border",title:"Copy message",children:t.jsx(F,{className:"w-3.5 h-3.5 text-muted"})}),a&&t.jsx("span",{className:"absolute top-2 right-8 text-xs text-status-ok",children:"Copied!"})]})]})})}function ve({item:s}){const[a,m]=e.useState(!1),o=s.status==="success"?t.jsx(ne,{className:"w-4 h-4 text-status-ok",weight:"fill"}):t.jsx(re,{className:"w-4 h-4 text-status-err",weight:"fill"});return t.jsxs("div",{className:"ml-10 my-1",children:[t.jsxs("button",{type:"button",onClick:()=>m(!a),className:b("flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors w-full text-left","bg-surface border border-border hover:bg-surface-hover"),children:[a?t.jsx(Z,{className:"w-3 h-3 text-muted"}):t.jsx(M,{className:"w-3 h-3 text-muted"}),t.jsx(W,{className:"w-3.5 h-3.5 text-muted"}),t.jsx("span",{className:"text-fg font-mono",children:s.name}),t.jsx("span",{className:"ml-auto",children:o})]}),a&&t.jsxs("div",{className:"mt-2 ml-4 text-xs font-mono",children:[s.args&&t.jsxs("div",{className:"mb-2",children:[t.jsx("div",{className:"text-muted mb-1",children:"Arguments:"}),t.jsx("pre",{className:"bg-bg-deep rounded p-2 overflow-x-auto text-fg max-h-40 overflow-y-auto",children:s.args})]}),s.output&&t.jsxs("div",{children:[t.jsx("div",{className:"text-muted mb-1",children:"Output:"}),t.jsx("pre",{className:b("rounded p-2 overflow-x-auto max-h-60 overflow-y-auto",s.status==="error"?"bg-status-err/10 text-status-err":"bg-bg-deep text-fg"),children:s.output.length>2e3?`${s.output.slice(0,2e3)}...
[truncated]`:s.output})]})]})]})}function we({item:s}){return t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"text-xs text-muted bg-bg-deep px-3 py-1 rounded-full max-w-[80%] truncate",children:s.text})})}function je({item:s}){const[a,m]=e.useState(!1),[o,n]=e.useState(null),h=JSON.stringify(s.entry,null,2),u=s.entry.type??"unknown";return e.useEffect(()=>{if(!a||o)return;let r=!1;return ge(async()=>{const{codeToHtml:d}=await import("./index-BiWEY6Q6.js");return{codeToHtml:d}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(({codeToHtml:d})=>d(h,{lang:"json",theme:"github-dark"})).then(d=>{r||n(d)}).catch(()=>{}),()=>{r=!0}},[a,o,h]),t.jsxs("div",{className:"ml-10 my-1",children:[t.jsxs("button",{type:"button",onClick:()=>m(!a),className:b("flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors w-full text-left","bg-surface border border-border hover:bg-surface-hover"),children:[a?t.jsx(Z,{className:"w-3 h-3 text-muted"}):t.jsx(M,{className:"w-3 h-3 text-muted"}),t.jsx("span",{className:"text-muted font-mono",children:u}),t.jsx("span",{className:"text-muted/50 ml-1",children:s.entry.id?`(${s.entry.id})`:""})]}),a&&t.jsx("div",{className:"mt-2 ml-4",children:o?t.jsx("div",{className:"rounded overflow-x-auto max-h-80 overflow-y-auto text-xs [&_pre]:!p-3 [&_pre]:!rounded [&_pre]:!m-0",dangerouslySetInnerHTML:{__html:o}}):t.jsx("pre",{className:"bg-bg-deep rounded p-3 overflow-x-auto text-xs text-fg max-h-80 overflow-y-auto",children:h})})]})}function Ae({events:s,autoScroll:a=!0}){const m=e.useRef(null),o=e.useRef(s.length);return e.useEffect(()=>{var n;a&&(s.length>o.current&&((n=m.current)==null||n.scrollIntoView({behavior:"smooth"})),o.current=s.length)},[s.length,a]),s.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted",children:[t.jsx("p",{className:"text-sm",children:"No events yet"}),t.jsx("p",{className:"text-xs mt-1",children:"Events will appear here in real-time"})]}):t.jsxs("div",{className:"font-mono text-xs",children:[t.jsxs("div",{className:"sticky top-0 bg-surface border-b border-border px-3 py-2 flex items-center gap-3 text-muted uppercase tracking-wider text-[10px]",children:[t.jsx("span",{className:"w-10",children:"Seq"}),t.jsx("span",{className:"w-20",children:"Time"}),t.jsx("span",{className:"w-36",children:"Type"}),t.jsx("span",{className:"flex-1",children:"Payload"})]}),t.jsx("div",{className:"divide-y divide-border/50",children:s.map(n=>t.jsx(Ne,{event:n},n.seq))}),t.jsx("div",{ref:m})]})}function Ne({event:s}){const[a,m]=e.useState(!1),[o,n]=e.useState(!1),h=new Date(s.createdAt).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),u=JSON.stringify(s.payload,null,2),r=()=>{navigator.clipboard.writeText(u),n(!0),setTimeout(()=>n(!1),2e3)},d=()=>{const l=s.type;return l.includes("error")?"text-status-err":l.includes("start")?"text-status-ok":l.includes("end")?"text-status-info":l.includes("update")?"text-muted":l==="prompt"?"text-accent":l==="response"?"text-status-info":l.includes("tool")?"text-status-warn":"text-fg"},x=()=>{const l=s.payload;switch(s.type){case"prompt":{const c=l.message;return c?`"${c.slice(0,60)}${c.length>60?"...":""}"`:"-"}case"message_update":{const c=l.assistantMessageEvent;if((c==null?void 0:c.type)==="text_delta"&&c.delta){const i=c.delta;return`text_delta: "${i.slice(0,40)}${i.length>40?"...":""}"`}return(c==null?void 0:c.type)??"-"}case"tool_execution_start":return l.toolName??"-";case"tool_execution_end":{const c=l.toolName,i=l.isError;return`${c??"-"} ${i?"(error)":"(ok)"}`}case"response":{const c=l.command,i=l.success;return`${c??"-"}: ${i?"ok":"error"}`}default:return Object.keys(l).slice(0,3).join(", ")||"-"}};return t.jsxs("div",{className:b("hover:bg-surface-hover transition-colors"),children:[t.jsxs("button",{type:"button",onClick:()=>m(!a),className:"w-full px-3 py-2 flex items-start gap-3 text-left",children:[t.jsx("span",{className:"w-10 text-muted flex-shrink-0",children:s.seq}),t.jsx("span",{className:"w-20 text-muted flex-shrink-0",children:h}),t.jsx("span",{className:b("w-36 flex-shrink-0 font-medium",d()),children:t.jsxs("span",{className:"flex items-center gap-1",children:[a?t.jsx(Z,{className:"w-3 h-3"}):t.jsx(M,{className:"w-3 h-3"}),s.type]})}),t.jsx("span",{className:"flex-1 text-muted truncate",children:x()})]}),a&&t.jsx("div",{className:"px-3 pb-3",children:t.jsxs("div",{className:"relative bg-bg-deep rounded-lg p-3 ml-[calc(10ch+3ch+36ch)] overflow-hidden",children:[t.jsx("button",{type:"button",onClick:l=>{l.stopPropagation(),r()},className:"absolute top-2 right-2 p-1 rounded bg-surface hover:bg-surface-hover transition-colors",title:"Copy payload",children:t.jsx(F,{className:"w-3.5 h-3.5 text-muted"})}),o&&t.jsx("span",{className:"absolute top-2 right-10 text-[10px] text-status-ok",children:"Copied!"}),t.jsx("pre",{className:"text-[11px] text-fg overflow-x-auto max-h-80 overflow-y-auto whitespace-pre-wrap break-all",children:u})]})})]})}function Le(s){return typeof s=="string"?s:Array.isArray(s)?s.filter(a=>a.type==="text"&&a.text).map(a=>a.text).join(`
`):""}function Ze(s){var o;const a=[],m=new Map;for(const n of s){const h=n.id??`entry-${a.length}`,u=n.timestamp??"";switch(n.type){case"session":break;case"message":{const r=n.message;if(!(r!=null&&r.role))break;if(r.role==="user"){const d=Le(r.content);d&&a.push({type:"user",id:h,text:d,timestamp:u})}else if(r.role==="assistant"){const d=r.content,x=[];if(typeof d=="string")x.push(d);else if(Array.isArray(d)){for(const c of d)if(c.type==="text"&&c.text)x.push(c.text);else if(c.type==="tool_use"){const i=c;i.id&&m.set(i.id,{name:i.name??"unknown",args:i.input?JSON.stringify(i.input,null,2):"",timestamp:u})}}const l=x.join(`
`);if(l.trim()&&a.push({type:"assistant",id:h,text:l,timestamp:u}),Array.isArray(d)){for(const c of d)if(c.type==="tool_use"){const i=c;i.id&&a.push({type:"tool",id:`tool-${i.id}`,name:i.name??"unknown",args:i.input?JSON.stringify(i.input,null,2):"",output:"",status:"success",timestamp:u})}}}else if(r.role==="tool"){const d=r.content;if(Array.isArray(d))for(const x of d){const l=x;if(l.type==="tool_result"&&l.tool_use_id){const c=((o=l.content)==null?void 0:o.map(g=>g.text).join(`
`))??"",i=l.is_error??!1,y=a.findIndex(g=>g.type==="tool"&&g.id===`tool-${l.tool_use_id}`);if(y>=0){const g=a[y];a[y]={...g,output:c,status:i?"error":"success"}}}}}break}case"compaction":{const r=n.summary??"Conversation compacted";a.push({type:"system",id:h,text:`Compaction: ${r.slice(0,200)}${r.length>200?"...":""}`,timestamp:u});break}case"model_change":{const r=n.provider??"",d=n.modelId??"";a.push({type:"system",id:h,text:`Model changed to ${r}/${d}`,timestamp:u});break}case"thinking_level_change":{const r=n.thinkingLevel??"";a.push({type:"system",id:h,text:`Thinking level: ${r}`,timestamp:u});break}case"branch_summary":{const r=n.summary??"Branch summary available";a.push({type:"system",id:h,text:`Branch: ${r.slice(0,200)}${r.length>200?"...":""}`,timestamp:u});break}default:a.push({type:"raw",id:h,entry:n});break}}return a}function Me({status:s}){const a={connecting:"bg-status-warn/20 text-status-warn",connected:"bg-status-ok/20 text-status-ok",disconnected:"bg-muted/20 text-muted",error:"bg-status-err/20 text-status-err"},m={connecting:"Connecting...",connected:"Live",disconnected:"Disconnected",error:"Error"};return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 text-xs font-medium rounded-full ${a[s]}`,children:[t.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${s==="connected"?"bg-status-ok animate-pulse":s==="connecting"?"bg-status-warn animate-pulse":"bg-current"}`}),m[s]]})}function He({mode:s,onChange:a}){return t.jsxs("div",{className:"flex items-center bg-surface border border-border rounded-lg p-0.5",children:[t.jsxs("button",{type:"button",onClick:()=>a("chat"),className:b("flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-md transition-colors",s==="chat"?"bg-accent text-accent-fg":"text-muted hover:text-fg"),children:[t.jsx(ae,{className:"w-4 h-4"}),"Chat"]}),t.jsxs("button",{type:"button",onClick:()=>a("debug"),className:b("flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-md transition-colors",s==="debug"?"bg-accent text-accent-fg":"text-muted hover:text-fg"),children:[t.jsx(U,{className:"w-4 h-4"}),"Debug"]})]})}async function O(s){const a=await k.get(`/sessions/${s}/history`);return a.data?Ze(a.data.entries):[]}const Te=X(function(){const{id:a}=ee(),{collapsed:m}=le(),[o,n]=e.useState(null),[h,u]=e.useState([]),[r,d]=e.useState([]),[x,l]=e.useState("disconnected"),[c,i]=e.useState(null),[y,g]=e.useState("chat"),[A,H]=e.useState(""),[$,C]=e.useState(!1),v=e.useRef(null),w=e.useRef(0),N=e.useRef(null),_=e.useRef(null),z=h;e.useEffect(()=>{a&&k.get(`/sessions/${a}`).then(p=>{p.data?n(p.data):i(p.error??"Failed to load session")})},[a]),e.useEffect(()=>{a&&O(a).then(u)},[a]),e.useEffect(()=>{a&&k.get(`/sessions/${a}/events?limit=500`).then(p=>{p.data&&(d(p.data.events),w.current=p.data.lastSeq)})},[a]);const R=e.useCallback(()=>{a&&O(a).then(u)},[a]),V=e.useCallback(()=>{if(!a||!D)return;N.current&&(clearTimeout(N.current),N.current=null),l("connecting");const p=`${D.replace("http","ws")}/ws/sessions/${a}?lastSeq=${w.current}`,j=new WebSocket(p);v.current=j,j.onopen=()=>{l("connected"),i(null)},j.onclose=L=>{l("disconnected"),v.current=null,L.code!==1e3&&(N.current=window.setTimeout(()=>{V()},3e3))},j.onerror=()=>{l("error"),i("WebSocket connection failed")},j.onmessage=L=>{try{const f=JSON.parse(L.data);if(f.type==="connected"){w.current=f.lastSeq;return}if(f.type==="replay_start"||f.type==="replay_end")return;const T=f.seq??w.current+1,G={seq:T,type:f.type,payload:f,createdAt:new Date().toISOString()};d(Q=>[...Q,G]),w.current=T,(f.type==="turn_end"||f.type==="agent_end"||f.type==="message_end")&&R()}catch{}}},[a,R]);e.useEffect(()=>(V(),()=>{N.current&&clearTimeout(N.current),v.current&&(v.current.close(1e3),v.current=null)}),[V]);const I=()=>{if(!A.trim()||!v.current||$)return;const p=A.trim();H(""),C(!0),v.current.send(JSON.stringify({type:"prompt",message:p,id:crypto.randomUUID()}));const j=`optimistic-${Date.now()}`;u(f=>[...f,{type:"user",id:j,text:p,timestamp:new Date().toISOString()}]);const L=w.current+1;d(f=>[...f,{seq:L,type:"prompt",payload:{type:"prompt",message:p},createdAt:new Date().toISOString()}]),w.current=L,setTimeout(()=>C(!1),500)},K=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),I())},Y=()=>{const p=_.current;p&&(p.style.height="auto",p.style.height=`${Math.min(p.scrollHeight,200)}px`)};return e.useEffect(Y,[A]),c&&!o?t.jsx("div",{className:"mx-auto max-w-4xl",children:t.jsxs("div",{className:"rounded-lg border border-status-err/20 bg-status-err/10 p-6 text-center",children:[t.jsx("p",{className:"text-status-err",children:c}),t.jsxs(P,{to:"/",className:"mt-4 inline-flex items-center gap-2 text-sm text-muted hover:text-fg",children:[t.jsx(S,{className:"w-4 h-4"}),"Back to sessions"]})]})}):t.jsxs("div",{"data-collapsed":m||void 0,className:"fixed inset-0 flex flex-col bg-bg z-10 md:left-64 md:data-[collapsed]:left-14",children:[t.jsx("header",{className:"flex-shrink-0 px-6 py-3 border-b border-border bg-surface md:px-10",children:t.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(P,{to:"/",className:"text-muted hover:text-fg transition-colors p-1 -ml-1",children:t.jsx(S,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h1",{className:"text-lg font-semibold text-fg",children:(o==null?void 0:o.name)||(a==null?void 0:a.slice(0,8))}),o&&t.jsx(te,{status:o.status}),t.jsx(Me,{status:x})]}),t.jsxs("p",{className:"text-xs text-muted",children:[o==null?void 0:o.mode," session",(o==null?void 0:o.repoId)&&` - ${o.repoId}`]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(He,{mode:y,onChange:g}),t.jsxs("span",{className:"text-xs text-muted",children:[r.length," events"]})]})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto bg-bg px-6 md:px-10",children:t.jsx("div",{className:"max-w-4xl mx-auto",children:y==="chat"?t.jsx(ye,{items:z}):t.jsx(Ae,{events:r})})}),y==="chat"&&t.jsx("div",{className:"flex-shrink-0 border-t border-border bg-surface px-6 py-4 md:px-10",children:t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs("div",{className:"flex items-end gap-2",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("textarea",{ref:_,value:A,onChange:p=>H(p.target.value),onKeyDown:K,placeholder:x==="connected"?"Type a message... (Enter to send, Shift+Enter for newline)":"Waiting for connection...",disabled:x!=="connected",rows:1,className:b("w-full resize-none rounded-xl border border-border bg-bg px-4 py-3 pr-10","text-sm text-fg placeholder:text-muted","focus:outline-none focus:ring-2 focus:ring-accent/50 focus:border-accent","disabled:opacity-50 disabled:cursor-not-allowed")}),A&&t.jsx("button",{type:"button",onClick:()=>H(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-muted hover:text-fg",children:t.jsx(se,{className:"w-4 h-4"})})]}),t.jsx("button",{type:"button",onClick:I,disabled:!A.trim()||x!=="connected"||$,className:b("flex-shrink-0 p-3 rounded-xl transition-colors","bg-accent text-accent-fg","hover:bg-accent-hover","disabled:opacity-50 disabled:cursor-not-allowed"),children:t.jsx(B,{className:"w-5 h-5",weight:"fill"})})]})})})]})});export{ge as _,Te as s};
