import{a as t,p as e,w as i,q as d,t as x,M as h,L as u,S as f,v as L,O as p,i as g}from"./chunk-JZWAC4HX-C2HxCtkE.js";import{c as j}from"./CircleNotch.es-BrrwzY_j.js";import{p as b}from"./IconBase.es-DtVVdnrS.js";import{e as y}from"./WarningCircle.es-B45BJtDC.js";import{R as o}from"./api-D4ha4czi.js";import{c as E}from"./utils-fNskMoFt.js";import{L as v,T as k}from"./theme-CZog23Jm.js";import{S as Z}from"./sidebar-BqU2Z0As.js";const w=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M137,168l11.52-11.51a12,12,0,0,0-17-17L120,151l-15-15,11.52-11.51a12,12,0,0,0-17-17L88,119,72.49,103.51a12,12,0,0,0-17,17L59,124,38.54,144.49a36,36,0,0,0,0,50.91l2.55,2.54L15.51,223.51a12,12,0,0,0,17,17l25.57-25.58,2.54,2.55a36.06,36.06,0,0,0,50.91,0L132,197l3.51,3.52a12,12,0,0,0,17-17ZM94.54,200.49a12,12,0,0,1-17,0L55.51,178.43a12,12,0,0,1,0-17L76,141l39,39Zm146-185a12,12,0,0,0-17,0L197.94,41.09l-2.54-2.55a36.05,36.05,0,0,0-50.91,0L124,59l-3.51-3.52a12,12,0,0,0-17,17l80,80a12,12,0,0,0,17-17L197,132l20.49-20.49a36,36,0,0,0,0-50.91l-2.55-2.54,25.58-25.57A12,12,0,0,0,240.49,15.51Zm-40,79L180,115,141,76l20.49-20.49a12,12,0,0,1,17,0l22.06,22.06a12,12,0,0,1,0,17Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M76,124l56,56-29,29a24,24,0,0,1-33.94,0L47,186.91A24,24,0,0,1,47,153ZM209,69.09,186.91,47A24,24,0,0,0,153,47L124,76l56,56,29-29A24,24,0,0,0,209,69.09Z",opacity:"0.2"}),t.createElement("path",{d:"M149.66,138.34a8,8,0,0,0-11.32,0L120,156.69,99.31,136l18.35-18.34a8,8,0,0,0-11.32-11.32L88,124.69,69.66,106.34a8,8,0,0,0-11.32,11.32L64.69,124,41.37,147.31a32,32,0,0,0,0,45.26l5.38,5.37-28.41,28.4a8,8,0,0,0,11.32,11.32l28.4-28.41,5.37,5.38a32,32,0,0,0,45.26,0L132,191.31l6.34,6.35a8,8,0,0,0,11.32-11.32L131.31,168l18.35-18.34A8,8,0,0,0,149.66,138.34Zm-52.29,65a16,16,0,0,1-22.62,0L52.69,181.25a16,16,0,0,1,0-22.62L76,135.31,120.69,180Zm140.29-185a8,8,0,0,0-11.32,0l-28.4,28.41-5.37-5.38a32.05,32.05,0,0,0-45.26,0L124,64.69l-6.34-6.35a8,8,0,0,0-11.32,11.32l80,80a8,8,0,0,0,11.32-11.32L191.31,132l23.32-23.31a32,32,0,0,0,0-45.26l-5.38-5.37,28.41-28.4A8,8,0,0,0,237.66,18.34Zm-34.35,79L180,120.69,135.31,76l23.32-23.31a16,16,0,0,1,22.62,0l22.06,22A16,16,0,0,1,203.31,97.37Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M149.66,149.66,131.31,168l18.35,18.34a8,8,0,0,1-11.32,11.32L132,191.31l-23.31,23.32a32.06,32.06,0,0,1-45.26,0l-5.37-5.38-28.4,28.41a8,8,0,0,1-11.32-11.32l28.41-28.4-5.38-5.37a32,32,0,0,1,0-45.26L64.69,124l-6.35-6.34a8,8,0,0,1,11.32-11.32L88,124.69l18.34-18.35a8,8,0,0,1,11.32,11.32L99.31,136,120,156.69l18.34-18.35a8,8,0,0,1,11.32,11.32Zm88-131.32a8,8,0,0,0-11.32,0l-28.4,28.41-5.37-5.38a32.05,32.05,0,0,0-45.26,0L124,64.69l-6.34-6.35a8,8,0,0,0-11.32,11.32l80,80a8,8,0,0,0,11.32-11.32L191.31,132l23.32-23.31a32,32,0,0,0,0-45.26l-5.38-5.37,28.41-28.4A8,8,0,0,0,237.66,18.34Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M148.24,139.76a6,6,0,0,0-8.48,0L120,159.51,96.49,136l19.75-19.76a6,6,0,0,0-8.48-8.48L88,127.51,68.24,107.76a6,6,0,0,0-8.48,8.48L67.51,124,42.79,148.73a30,30,0,0,0,0,42.42l6.78,6.79L19.76,227.76a6,6,0,1,0,8.48,8.48l29.82-29.81,6.79,6.78a30,30,0,0,0,42.42,0L132,188.49l7.76,7.75a6,6,0,0,0,8.48-8.48L128.49,168l19.75-19.76A6,6,0,0,0,148.24,139.76Zm-49.45,65a18,18,0,0,1-25.46,0L51.27,182.67a18,18,0,0,1,0-25.46L76,132.49,123.51,180Zm137.45-185a6,6,0,0,0-8.48,0L197.94,49.57l-6.79-6.78a30,30,0,0,0-42.42,0L124,67.51l-7.76-7.75a6,6,0,0,0-8.48,8.48l80,80a6,6,0,0,0,8.48-8.48L188.49,132l24.72-24.73a30,30,0,0,0,0-42.42l-6.78-6.79,29.81-29.82A6,6,0,0,0,236.24,19.76Zm-31.51,79L180,123.51,132.49,76l24.72-24.73a18,18,0,0,1,25.46,0l22.06,22.06a18,18,0,0,1,0,25.46Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M149.66,138.34a8,8,0,0,0-11.32,0L120,156.69,99.31,136l18.35-18.34a8,8,0,0,0-11.32-11.32L88,124.69,69.66,106.34a8,8,0,0,0-11.32,11.32L64.69,124,41.37,147.31a32,32,0,0,0,0,45.26l5.38,5.37-28.41,28.4a8,8,0,0,0,11.32,11.32l28.4-28.41,5.37,5.38a32,32,0,0,0,45.26,0L132,191.31l6.34,6.35a8,8,0,0,0,11.32-11.32L131.31,168l18.35-18.34A8,8,0,0,0,149.66,138.34Zm-52.29,65a16,16,0,0,1-22.62,0L52.69,181.25a16,16,0,0,1,0-22.62L76,135.31,120.69,180Zm140.29-185a8,8,0,0,0-11.32,0l-28.4,28.41-5.37-5.38a32.05,32.05,0,0,0-45.26,0L124,64.69l-6.34-6.35a8,8,0,0,0-11.32,11.32l80,80a8,8,0,0,0,11.32-11.32L191.31,132l23.32-23.31a32,32,0,0,0,0-45.26l-5.38-5.37,28.41-28.4A8,8,0,0,0,237.66,18.34Zm-34.35,79L180,120.69,135.31,76l23.32-23.31a16,16,0,0,1,22.62,0l22.06,22A16,16,0,0,1,203.31,97.37Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M146.83,141.17a4,4,0,0,0-5.66,0L120,162.34,93.66,136l21.17-21.17a4,4,0,0,0-5.66-5.66L88,130.34,66.83,109.17a4,4,0,0,0-5.66,5.66L70.34,124,44.2,150.14a28,28,0,0,0,0,39.6l8.2,8.2L21.17,229.17a4,4,0,0,0,5.66,5.66L58.06,203.6l8.2,8.2a28,28,0,0,0,39.6,0L132,185.66l9.17,9.17a4,4,0,0,0,5.66-5.66L125.66,168l21.17-21.17A4,4,0,0,0,146.83,141.17Zm-46.63,65a20,20,0,0,1-28.28,0L49.86,184.08a20,20,0,0,1,0-28.28L76,129.66,126.34,180Zm134.63-185a4,4,0,0,0-5.66,0L197.94,52.4l-8.2-8.2a28,28,0,0,0-39.6,0L124,70.34l-9.17-9.17a4,4,0,0,0-5.66,5.66l80,80a4,4,0,0,0,5.66-5.66L185.66,132l26.14-26.14a28,28,0,0,0,0-39.6l-8.2-8.2,31.23-31.23A4,4,0,0,0,234.83,21.17ZM212,86.06a19.86,19.86,0,0,1-5.86,14.14L180,126.34,129.66,76,155.8,49.86a20,20,0,0,1,28.28,0l22.06,22.06A19.85,19.85,0,0,1,212,86.06Z"}))]]),m=t.forwardRef((l,a)=>t.createElement(b,{ref:a,...l,weights:w}));m.displayName="PlugsIcon";async function c(){try{return(await(await fetch(`${o}/health`,{signal:AbortSignal.timeout(5e3)})).json()).ok===!0}catch{return!1}}function A({children:l}){const[a,s]=t.useState(()=>"checking"),r=()=>{s("checking"),c().then(n=>s(n?"ok":"unreachable"))};return t.useEffect(()=>{a==="checking"&&c().then(n=>s(n?"ok":"unreachable"))},[a]),a==="ok"?e.jsx(e.Fragment,{children:l}):e.jsx("div",{className:"flex h-screen flex-col items-center justify-center bg-bg",children:e.jsxs("div",{className:"flex max-w-md flex-col items-center text-center",children:[e.jsx(v,{variant:"muted",className:"mb-6 size-10"}),a==="checking"&&e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"mb-4 size-8 animate-spin text-muted"}),e.jsx("p",{className:"text-sm text-muted",children:"Connecting to relay server..."})]}),a==="no-url"&&e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"mb-4 size-8 text-status-warn",weight:"fill"}),e.jsx("h1",{className:"mb-2 text-lg font-semibold text-fg",children:"Server not configured"}),e.jsxs("p",{className:"mb-5 text-sm text-muted",children:["Set"," ",e.jsx("code",{className:"rounded bg-surface px-1.5 py-0.5 font-mono text-xs text-fg",children:"VITE_RELAY_URL"})," ","in your"," ",e.jsx("code",{className:"rounded bg-surface px-1.5 py-0.5 font-mono text-xs text-fg",children:".env"})," ","file and restart the dev server."]}),e.jsx("pre",{className:"w-full rounded-lg bg-surface px-4 py-3 text-left font-mono text-xs text-muted",children:"VITE_RELAY_URL=http://localhost:31415"})]}),a==="unreachable"&&e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"mb-4 size-8 text-status-err",weight:"fill"}),e.jsx("h1",{className:"mb-2 text-lg font-semibold text-fg",children:"Server unreachable"}),e.jsx("p",{className:"mb-2 text-sm text-muted",children:"Could not connect to the relay server at:"}),e.jsx("code",{className:"mb-5 rounded-lg bg-surface px-3 py-2 font-mono text-xs text-fg",children:o}),e.jsx("button",{type:"button",onClick:r,className:E("inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-colors","bg-accent text-accent-fg hover:bg-accent-hover"),children:"Retry"})]})]})})}const N=`(function () {
  var saved = localStorage.getItem("pi-relay-theme");
  var prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
  if (saved === "dark" || (!saved && prefersDark)) {
    document.documentElement.classList.add("dark");
  }
})();`;function H({children:l}){return e.jsxs("html",{lang:"en",suppressHydrationWarning:!0,children:[e.jsxs("head",{children:[e.jsx("meta",{charSet:"UTF-8"}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),e.jsx("meta",{name:"theme-color",content:"#1B2632",media:"(prefers-color-scheme: dark)"}),e.jsx("meta",{name:"theme-color",content:"#F5F1EB",media:"(prefers-color-scheme: light)"}),e.jsx("link",{rel:"icon",type:"image/svg+xml",href:"/favicon.svg"}),e.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),e.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),e.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300..700;1,9..40,300..700&family=JetBrains+Mono:wght@400;500;600&display=swap",rel:"stylesheet"}),e.jsx("script",{dangerouslySetInnerHTML:{__html:N}}),e.jsx(h,{}),e.jsx(u,{})]}),e.jsxs("body",{children:[l,e.jsx(f,{}),e.jsx(L,{})]})]})}const z=x(function(){return null}),C=i(function(){return e.jsx(k,{children:e.jsx(Z,{children:e.jsx(A,{children:e.jsx(p,{})})})})}),I=d(function({error:a}){let s="Oops!",r="An unexpected error occurred.";return g(a)&&(s=a.status===404?"404":"Error",r=a.status===404?"Page not found.":a.statusText||r),e.jsxs("main",{className:"flex h-screen flex-col items-center justify-center text-center",children:[e.jsx("h1",{className:"mb-2 text-2xl font-semibold text-fg",children:s}),e.jsx("p",{className:"text-sm text-muted",children:r})]})});export{I as ErrorBoundary,z as HydrateFallback,H as Layout,C as default};
